<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dimdim Dino POS</title>

<style>
*{box-sizing:border-box;font-family:Arial;margin:0;padding:0}
body{background:#0f3d2e;color:#fff}

.hidden{display:none}

header{
  background:#0b2f24;
  padding:14px;
  text-align:center;
  font-weight:bold;
  font-size:18px;
}

.container{
  padding:16px;
}

.card{
  background:#134e3a;
  padding:16px;
  border-radius:14px;
  margin-bottom:16px;
}

input,button{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border:none;
  border-radius:8px;
}

button{
  background:#22c55e;
  font-weight:bold;
  cursor:pointer;
}

.menu-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.menu-btn{
  background:#22c55e;
  color:#000;
  font-weight:bold;
  padding:14px;
  border-radius:12px;
  text-align:center;
}

.list-item{
  padding:6px 0;
  border-bottom:1px solid rgba(255,255,255,.2);
}
</style>
</head>
<body>

<header>DIMDIM DINO POS</header>

<!-- HOME -->
<div id="home" class="container">
  <div class="card">
    <button onclick="openKasir()">KASIR</button>
    <button onclick="openMenu()">DAFTAR MENU</button>
  </div>
</div>

<!-- DAFTAR MENU -->
<div id="menuPage" class="container hidden">
  <div class="card">
    <h3>Daftar Menu</h3>
    <input id="menuName" placeholder="Nama menu">
    <input id="menuPrice" type="number" placeholder="Harga">
    <button onclick="saveMenu()">Simpan Menu</button>

    <div id="menuList"></div>

    <button onclick="backHome()">Kembali</button>
  </div>
</div>

<!-- KASIR -->
<div id="kasirPage" class="container hidden">
  <div class="card">
    <h3>Kasir</h3>
    <div class="menu-grid" id="menuButtons"></div>
  </div>

  <div class="card">
    <h3>Keranjang</h3>
    <div id="cart"></div>
    <h2>Total: Rp <span id="total">0</span></h2>
    <button onclick="backHome()">Kembali</button>
  </div>
</div>

<script>
let menus = JSON.parse(localStorage.getItem('menus')) || [];
let cart = [];
let total = 0;

function formatRp(n){
  return n.toLocaleString('id-ID');
}

function saveMenu(){
  const name = menuName.value.trim();
  const price = Number(menuPrice.value);

  if(!name || !price) return alert('Isi nama & harga');

  menus.push({name, price});
  localStorage.setItem('menus', JSON.stringify(menus));

  menuName.value='';
  menuPrice.value='';
  renderMenuList();
}

function renderMenuList(){
  menuList.innerHTML='';
  menus.forEach(m=>{
    const d=document.createElement('div');
    d.className='list-item';
    d.textContent = `${m.name} - Rp ${formatRp(m.price)}`;
    menuList.appendChild(d);
  });
}

function openMenu(){
  home.classList.add('hidden');
  menuPage.classList.remove('hidden');
  renderMenuList();
}

function openKasir(){
  home.classList.add('hidden');
  kasirPage.classList.remove('hidden');
  renderMenuButtons();
}

function renderMenuButtons(){
  menuButtons.innerHTML='';
  menus.forEach(m=>{
    const b=document.createElement('div');
    b.className='menu-btn';
    b.innerHTML=`${m.name}<br>Rp ${formatRp(m.price)}`;
    b.onclick=()=>addToCart(m);
    menuButtons.appendChild(b);
  });
}

function addToCart(m){
  cart.push(m);
  total += m.price;
  renderCart();
}

function renderCart(){
  cart.innerHTML='';
  cart.forEach(i=>{
    const d=document.createElement('div');
    d.textContent=`${i.name} - Rp ${formatRp(i.price)}`;
    cart.appendChild(d);
  });
  document.getElementById('total').textContent=formatRp(total);
}

function backHome(){
  menuPage.classList.add('hidden');
  kasirPage.classList.add('hidden');
  home.classList.remove('hidden');
}
</script>

</body>
</html>
