<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dimdim Dino POS</title>

<style>
*{box-sizing:border-box;font-family:Arial;margin:0;padding:0}
body{background:#0f3d2e;color:#fff}
.page{display:none;padding:16px}
.active{display:block}

header{
  text-align:center;
  padding:16px;
  font-weight:bold;
  font-size:20px;
  background:#0b2f22;
}

.card{
  background:#134e3a;
  padding:16px;
  border-radius:14px;
  margin-bottom:14px;
}

button,input{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  font-weight:bold;
}

button{background:#22c55e}
input{background:#fff;color:#000}

.menu-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.menu-btn{
  background:#22c55e;
  color:#000;
  padding:14px;
  border-radius:12px;
  text-align:center;
}

hr{margin:10px 0}
</style>
</head>
<body>

<header>DIMDIM DINO POS</header>

<!-- HOME -->
<div id="home" class="page active">
  <div class="card">
    <h3>Bekerja Itu Punya Cerita</h3>
    <p>Pelan tapi konsisten, biar jejakmu jadi berarti.</p>
  </div>

  <button onclick="openKasir()">KASIR</button>
  <button onclick="openMenu()">DAFTAR MENU</button>
  <button onclick="openReport()">LAPORAN</button>
</div>

<!-- DAFTAR MENU -->
<div id="menuPage" class="page">
  <div class="card">
    <h3>Tambah Menu</h3>
    <input id="menuName" placeholder="Nama Menu">
    <input id="menuPrice" type="number" placeholder="Harga">
    <button onclick="addMenu()">Simpan Menu</button>
  </div>

  <div class="card">
    <h3>Daftar Menu</h3>
    <div id="menuList"></div>
  </div>

  <button onclick="back()">Kembali</button>
</div>

<!-- KASIR -->
<div id="kasirPage" class="page">
  <div class="card">
    <h3>Kasir</h3>
    <p>Order Type: <b id="orderType">QRIS</b></p>
  </div>

  <div class="card">
    <h3>Pilih Menu</h3>
    <div id="kasirMenu" class="menu-grid"></div>
  </div>

  <div class="card">
    <h3>Keranjang</h3>
    <div id="cart"></div>
    <hr>
    <h2>Total: Rp <span id="total">0</span></h2>
  </div>

  <button onclick="printReceipt()">CETAK STRUK</button>
  <button onclick="back()">Kembali</button>
</div>

<!-- LAPORAN -->
<div id="reportPage" class="page">
  <div class="card">
    <h3>Laporan</h3>
    <p>Step berikutnya</p>
  </div>
  <button onclick="back()">Kembali</button>
</div>

<script>
let menus = JSON.parse(localStorage.getItem('menus')||'[]');
let cart = [];

function show(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function back(){ show('home'); }

function openMenu(){
  show('menuPage');
  renderMenuList();
}

function openKasir(){
  show('kasirPage');
  renderKasirMenu();
  renderCart();
}

function openReport(){
  show('reportPage');
}

function addMenu(){
  const name=menuName.value;
  const price=+menuPrice.value;
  if(!name||!price) return alert('Lengkapi data');
  menus.push({name,price});
  localStorage.setItem('menus',JSON.stringify(menus));
  menuName.value='';
  menuPrice.value='';
  renderMenuList();
}

function renderMenuList(){
  menuList.innerHTML='';
  menus.forEach(m=>{
    menuList.innerHTML+=`<div>${m.name} - Rp ${m.price}</div>`;
  });
}

function renderKasirMenu(){
  kasirMenu.innerHTML='';
  menus.forEach(m=>{
    kasirMenu.innerHTML+=`
      <div class="menu-btn" onclick="addCart('${m.name}',${m.price})">
        ${m.name}<br>Rp ${m.price}
      </div>`;
  });
}

function addCart(name,price){
  cart.push({name,price});
  renderCart();
}

function renderCart(){
  cart.innerHTML='';
  let total=0;
  cart.forEach(c=>{
    total+=c.price;
    cart.innerHTML+=`<div>${c.name} - Rp ${c.price}</div>`;
  });
  document.getElementById('total').innerText=total.toLocaleString('id-ID');
}

function printReceipt(){
  if(cart.length===0) return alert('Keranjang kosong');
  window.print();
  cart=[];
  renderCart();
}
</script>

</body>
</html>
